\documentclass[11pt]{article}
\input shared.texm
\def\graybg{lightgray}

%circle of a given color with text
\def\NODE(#1,#2)#3#4#5{%
\cnode[fillstyle=solid,fillcolor=#4](#1,#2){0.23}{#3}\rput(#1,#2){#5}}%
%silen state
\def\SNODE(#1,#2)#3#4{%
\cnode[fillstyle=solid,fillcolor=#4](#1,#2){0.1}{#3}}%

\def\BNODE(#1,#2)#3#4#5{%
\fnode[linecolor=#4,fillstyle=solid,fillcolor=#4,framesize=0.5](#1,#2){#3}\rput(#1,#2){#5}}%

%centered text in a box of given size
\def\centeredtext#1#2{%
\begin{minipage}{#1}\begin{centering}%
#2%
\end{centering}\end{minipage}}

\startfile
\psset{unit=1.5cm}%
\psset{linewidth=0.7pt}%
\psset{arrowsize=1.8pt 4}%
\begin{pspicture}(-2.0,-2)(2.7,1)
\psset{arrows=->}
\def\xa{1.1}
\def\xb{2.2}
\def\xc{3.3}
\def\xd{4}

\NODE(1,0){random}{white}{$R$}
\BNODE(0,1){erandom}{white}{$(0.25,0.25,0.25,0.25)$}
\ncline{random}{erandom}

\NODE(3,-2.5){exone}{white}{$E$}
\BNODE(3,-3.5){eexone}{white}{$(0.1,0.2,0.3,0.4)$}
\ncline{exone}{eexone}

\NODE(-1,-2.5){intron}{white}{$In$}
\BNODE(-1,-3.5){eintron}{white}{$(0.5,0.2,0.25,0.05)$}
\ncline{intron}{eintron}

\ncarc[angle=-90]{random}{exone}
\naput{0.005}
\ncarc[angle=-90]{exone}{random}
\naput{0.01}

\ncline{random}{intron}
\naput{0.005}
%\ncarc[angle=-90]{intron}{random}
%\naput{0}

\ncarc[angle=-90]{exone}{intron}
\naput{0.07}
\ncarc[angle=-90]{intron}{exone}
\naput{0.05}


\nccircle[angle=-45]{random}{0.23}\bput[0.02]{0}{$0.99$}
\nccircle[angle=-45]{exone}{0.23}\bput[0.02]{0}{$0.92$}
\nccircle[angle=45]{intron}{0.23}\bput[0.02]{0}{$0.95$}

%
%\ncline{start}{bstart}
%\ncline{bstart}{hash}
%\ncline{hash}{bfinal}
%\ncline{bfinal}{final}
%
%\nccircle[angle=0]{start}{0.23}\bput[0.02]{0}{}
%\nccircle[angle=0]{final}{0.23}\bput[0.02]{0}{}
%
%\NODE(-1,-1){0}{white}{$0$}
%\BNODE(-1,-2){e0}{white}{$\{0,?\}$}
%\ncline{0}{e0}
%
%\NODE(1,-1){1}{white}{$1$}
%\BNODE(1,-2){e1}{white}{$\{1,?\}$}
%\ncline{1}{e1}
%
%
%\ncline{hash}{0}
%\ncline{0}{hash}
%\ncline{hash}{1}
%\ncline{1}{hash}
%
%\ncline{final}{error}

\end{pspicture}
\endfile

